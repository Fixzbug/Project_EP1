<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IoT Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <link href="https://cdn.line-scdn.net/line-seed-font/1.0.0/LineSeedSans_W_Rg.woff2" rel="stylesheet" type="font/woff2"
    as="font" crossorigin />
  <link rel="stylesheet" href="css/line-font.css">

  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

</head>

<body class="bg-gray-20 font-sans">
  <div class="flex h-screen">
    <!-- Sidebar -->
    <div class="w-64 bg-white shadow-md p-4">

      <h2 class="text-xl font-bold text-blue-600 mb-6">IoT Dashboard</h2>

      <!-- User Info -->
      <div class="mb-6 p-3 bg-blue-50 rounded-lg text-sm text-blue-700 flex items-center space-x-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-blue-500" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M5.121 17.804A9 9 0 1118.88 6.196 9 9 0 015.12 17.804z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
        <span id="userEmail">Loading...</span>
      </div>

      <nav class="space-y-2">
        <button class="tab-btn text-left w-full py-2 px-3 rounded hover:bg-blue-100 flex items-center space-x-2"
          data-tab="tab1">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h4V3h10v7h4l-8 8-8-8z" />
          </svg>
          <span>Dashboard Device</span>
        </button>

        <button class="tab-btn text-left w-full py-2 px-3 rounded hover:bg-blue-100 flex items-center space-x-2"
          data-tab="tab2">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M9 17v-2h6v2a2 2 0 002 2h2v2H5v-2h2a2 2 0 002-2z" />
          </svg>
          <span>Status</span>
        </button>

        <button class="tab-btn text-left w-full py-2 px-3 rounded hover:bg-blue-100 flex items-center space-x-2"
          data-tab="tab3">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
          </svg>
          <span>Add Device</span>
        </button>
      </nav>


      <!-- Logout -->
      <div class="mt-10 pt-4 border-t">
        <button onclick="logout()"
          class="w-full text-left px-3 py-2 text-red-500 hover:bg-red-100 rounded flex items-center space-x-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M9 16l-4-4m0 0l4-4m-4 4h13M16 17v1a2 2 0 002 2h1a2 2 0 002-2V6a2 2 0 00-2-2h-1a2 2 0 00-2 2v1" />
          </svg>
          <span>Logout</span>
        </button>
      </div>


    </div>


    <!-- Main Content -->
    <div class="flex-1 p-6 overflow-auto">


      <!-- Device Table Section -->
      <div id="deviceTableSection">
        <h2 class="text-2xl font-semibold mb-4 flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-blue-600" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 9.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M19.5 12a7.5 7.5 0 11-15 0 7.5 7.5 0 0115 0z" />
          </svg>
          Device List
        </h2>
        <table id="deviceTable" class="display nowrap w-full text-sm">
          <thead>
            <tr>
              <th>No.</th>
              <th>Action</th>
              <th>Status</th>
              <th>Schedule Day</th>
              <th>Next Action</th>
              <th>Temp</th>
              <th>Time</th>
            </tr>
          </thead>
        </table>
      </div>

      <div id="deviceControlSection" class="hidden">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-2xl font-semibold">⚙️ ควบคุมอุปกรณ์</h2>
          <button onclick="backToList()"
            class="flex items-center gap-2 bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
            กลับ
          </button>
        </div>
      </div>

      <!-- Tab 2 Section -->
      <br>
      <div id="statusdeviceTable" class="hidden">
        <h2 class="text-2xl font-semibold mb-4 flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-purple-600" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M11 17a1 1 0 001 1h6a1 1 0 001-1v-4a1 1 0 00-1-1h-6a1 1 0 00-1 1v4zM4 17a1 1 0 001 1h2a1 1 0 001-1V9a1 1 0 00-1-1H5a1 1 0 00-1 1v8z" />
          </svg>
          Status Information
        </h2>

        <table id="allStatusTable" class="display nowrap w-full text-sm">
          <thead>
            <tr>
              <th>No.</th>
              <th>Device</th>
              <th>Time</th>
              <th>Status</th>
              <th>Next Action</th>
              <th>Temp (°C)</th>
            </tr>
          </thead>
        </table>
      </div>

    </div>
  </div>

  <!-- JS -->

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

  <!-- DataTables Buttons -->
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
  <script src="js/dashboard.js"></script>
</body>

</html>